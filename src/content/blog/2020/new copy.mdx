---
date: 2010-10-30
title: "new"
tags: ["React", "Github"]
published: true
image: "../../../images/blog/github-pages.jpeg"
excerpt: "new"
---

### Enzyme

Enzyme is a JavaScript Testing utility for React that makes it easier to test your React Components' output. You can also manipulate, traverse, and in some ways simulate runtime given the output.

```
npm i --save-dev enzyme enzyme-adapter-react-16
```

### Enzyme To Json

Convert Enzyme wrappers to a format compatible with Jest snapshot testing.

```
npm install --save-dev enzyme-to-json
```

Finally, you need to configure enzyme and enzyme-to-.
To do this, you can use the top _src/setupTest.js_ and add....

```js
import Enzyme from "enzyme";
import Adapter from "enzyme-adapter-react-16";
import { createSerializer } from "enzyme-to-json"; //enzyme-to-json

Enzyme.configure({ adapter: new Adapter() });

expect.addSnapshotSerializer(createSerializer({ mode: "deep" })); //enzyme-to-json
```

## Our First Test

We put all our test in the folder _ **test** _ and all the file have the _.test.js_ extension

We use _describe(name, fn)_ that creates a block that groups together several related tests.

We have to import shallow. Shallow rendering is useful to constrain
yourself to testing a component as a unit, and to ensure that your tests aren't indirectly asserting on behavior of child components.

```js
import React from "react";
import { shallow } from "enzyme";
import Component from "../Component";

describe("Describe the test", () => {
  const title = "the title";
  const url = "https://xyz.com/img.jpg";
  const wrapper = shallow(<Component title={title} url={url} />);

  test("Must show the component", () => {
    expect(wrapper).toMatchSnapshot();
  });

  test("Must have a P with the title", () => {
    const p = wrapper.find("p");
    expect(p.text().trim()).toBe(title);
  });

  test("Must have a img with a url and a alt", () => {
    const img = wrapper.find("img");
    expect(img.prop("src")).toBe(url);
    expect(img.prop("alt")).toBe(title);
  });

  //with .props() we have the reference to all the props of the element

  test("the div musta have animate__fadeIn class", () => {
    const div = wrapper.find("div");
    const className = div.prop("className");
    expect(className.includes("animate__fadeIn")).toBe(true);
  });
});
```

If you add 
``` import '@testing-library/jest-dom'; ```
 you will hace access to the autocomplete of method.


With *jest.fn()* we can to have access to the info of a function.
Know how many times was call., etc

Yo can use beforeEach() or afterEach() to do something before og after of any test

With jest.clearAllMocks() we reset any value of a previous test.
We can use into a beforeEach()
```js
    beforeEach( () => {
        jest.clearAllMocks();
    });
```




